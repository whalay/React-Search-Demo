(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{11:function(e,t,n){e.exports={item:"Item_item__1AMxd",buttonSmall:"Item_buttonSmall__3w2KZ",buttonLarge:"Item_buttonLarge__vjYQF"}},12:function(e,t,n){e.exports={searchForm:"SearchForm_searchForm__2T_K-",button:"SearchForm_button__uxO-k"}},13:function(e,t,n){e.exports={container:"App_container__2MY4T",headlinePrimary:"App_headlinePrimary__1-pTb"}},27:function(e,t,n){e.exports={card:"Card_card__3MkaP"}},28:function(e,t,n){e.exports={button:"Button_button__2eLx-"}},29:function(e,t,n){e.exports={card:"ListHeader_card__2AgKa"}},30:function(e,t,n){e.exports={InputWithLabel:"InputWithLabel_InputWithLabel__3D2Hz"}},38:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(24),r=n.n(c),a=(n(38),n(25)),o=n(3),s=n(4),i=n(10),u=n.n(i),l=n(2),b=n(26),j=n.n(b),d=n(6),h=n(11),O=n.n(h),p=n(27),m=n.n(p),f=n(0),x=function(e){return Object(f.jsx)("div",{className:"".concat(m.a.card," ").concat(e.className),children:e.children})},_=function(e){var t=e.item,n=e.onRemove;return Object(f.jsxs)(x,{className:O.a.item,children:[Object(f.jsx)("span",{children:Object(f.jsx)("a",{href:t.url,children:t.title})}),Object(f.jsx)("span",{children:t.author}),Object(f.jsx)("span",{children:t.num_comments}),Object(f.jsx)("span",{children:t.points}),Object(f.jsx)("span",{children:Object(f.jsx)("button",{className:O.a.buttonSmall,type:"button",onClick:function(){n(t)},children:"Remove"})})]})},S=n(28),y=n.n(S),E=function(e){return Object(f.jsx)("button",{type:e.type||"button",className:"".concat(y.a.button," ").concat(e.className),onClick:e.onClick,disabled:e.disabled,children:e.children})},v=n(29),I=n.n(v),T=function(e){return Object(f.jsxs)(x,{className:I.a.card,children:[Object(f.jsx)("span",{children:Object(f.jsx)("button",{type:"button",onClick:function(){return e.handleSort("TITLE")},children:"Title"})}),Object(f.jsx)("span",{children:Object(f.jsx)("button",{type:"button",onClick:function(){return e.handleSort("AUTHOR")},children:"Author"})}),Object(f.jsx)("span",{children:Object(f.jsx)("button",{type:"button",onClick:function(){return e.handleSort("COMMENT")},children:"Comments"})}),Object(f.jsx)("span",{style:{width:"20%"},children:Object(f.jsx)("button",{type:"button",onClick:function(){return e.handleSort("POINT")},children:"Points"})}),Object(f.jsx)("span",{style:{width:"10%"},children:"Action "})]})},g={NONE:function(e){return e},TITLE:function(e){return Object(d.sortBy)(e,"title")},AUTHOR:function(e){return Object(d.sortBy)(e,"author")},COMMENT:function(e){return Object(d.sortBy)(e,"num_comments")},POINT:function(e){return Object(d.sortBy)(e,"points")}},R=function(e){var t=Object(l.useState)({sortKey:"NONE",isReverse:!1}),n=Object(s.a)(t,2),c=n[0],r=n[1],a=g[c.sortKey],o=c.isReverse?a(e.list).reverse():a(e.list);return Object(f.jsxs)("div",{children:[Object(f.jsx)(T,{list:e,handleSort:function(e){var t=c.sortKey===e&&!c.isReverse;r({sortKey:e,isReverse:t})}}),o.map((function(t){return Object(f.jsx)(_,{item:t,onRemove:e.onRemoveItem},t.objectID)}))]})},C=n(30),N=n.n(C),L=function(e){var t=e.id,n=e.value,c=e.type,r=e.onInputChange,a=e.isFocused,o=e.children,s=Object(l.useRef)();return Object(l.useEffect)((function(){a&&s.current&&s.current.focus()}),[a]),Object(f.jsxs)("div",{className:N.a.InputWithLabel,children:[Object(f.jsx)("label",{htmlFor:t,children:o}),"\xa0",Object(f.jsx)("input",{id:t,ref:s,type:c,value:n,onChange:r})]})},F=n(12),k=n.n(F),w=function(e){return Object(f.jsx)(x,{className:k.a.searchForm,children:Object(f.jsxs)("form",{onSubmit:e.onSearchSubmit,children:[Object(f.jsx)(L,{id:"search",type:"text",isFocused:!0,value:e.searchText,onInputChange:e.onSearchInput,children:Object(f.jsx)("strong",{children:"Search "})}),Object(f.jsx)("div",{className:k.a.button,children:Object(f.jsx)(E,{type:"submit",disabled:!e.searchText,children:"Submit"})})]})})},H=n(13),A=n.n(H),M="https://hn.algolia.com/api/v1/search?query=",K=function(e,t){switch(t.type){case"STORIES_FETCH_INIT":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!0,isError:!1});case"STORIES_FETCH_SUCCESS":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,isError:!1,data:t.payload});case"STORIES_FETCH_FAILURE":return Object(o.a)(Object(o.a)({},e),{},{isLoading:!1,isError:!0});case"REMOVE_STORY":return Object(o.a)(Object(o.a)({},e),{},{data:e.data.filter((function(e){return t.payload.objectID!==e.objectID}))});default:throw new Error}};var P=function(){var e=function(e,t){var n=Object(l.useState)(localStorage.getItem(e)||t),c=Object(s.a)(n,2),r=c[0],a=c[1];return Object(l.useEffect)((function(){localStorage.setItem(e,r)}),[r,e]),[r,a]}("search"),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(l.useState)("".concat(M).concat(n)),o=Object(s.a)(r,2),i=o[0],b=o[1],d=Object(l.useReducer)(K,{data:[],isLoading:!1,isError:!1}),h=Object(s.a)(d,2),O=h[0],p=h[1],m=Object(l.useCallback)(Object(a.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p({type:"STORIES_FETCH_INIT"}),e.prev=1,e.next=4,j.a.get(i);case 4:t=e.sent,p({type:"STORIES_FETCH_SUCCESS",payload:t.data.hits}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p({type:"STORIES_FETCH_FAILURE"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[i]);return Object(l.useEffect)((function(){m()}),[m]),Object(f.jsxs)("div",{className:A.a.container,children:[Object(f.jsx)("h1",{className:A.a.headlinePrimary,children:"My Hacker Stories"}),Object(f.jsx)(w,{onSearch:function(e){c(e.target.value)},searchText:n,onSearchSubmit:function(e){b("".concat(M).concat(n)),e.preventDefault(),console.log("i am clicked")},onSearchInput:function(e){c(e.target.value)}}),O.isError&&Object(f.jsx)("p",{children:"Something went wrong....."}),O.isLoading?Object(f.jsx)("p",{children:"Loading..."}):Object(f.jsx)(R,{list:O.data,onRemoveItem:function(e){p({type:"REMOVE_STORY",payload:e})}})]})};r.a.createRoot(document.getElementById("root")).render(Object(f.jsx)(P,{}))}},[[64,1,2]]]);
//# sourceMappingURL=main.b5727637.chunk.js.map