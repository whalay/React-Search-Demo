{"version":3,"sources":["components/Item.module.css","components/SearchForm.module.css","App.module.css","components/UI/Card.module.css","components/ListHeader.module.css","components/InputWithLabel.module.css","components/Button.module.css","components/UI/Card.js","components/Item.js","components/ListHeader.js","components/List.js","components/InputWithLabel.js","components/Button.js","components/SearchForm.js","App.js","index.js"],"names":["module","exports","Card","props","className","classes","card","children","Item","item","onRemove","href","url","title","author","num_comments","points","buttonSmall","type","onClick","ListHeader","handleSort","style","width","SORTS","NONE","list","TITLE","sortBy","AUTHOR","COMMENT","POINT","List","useState","sortKey","isReverse","sort","setSort","sortFunction","sortedList","reverse","map","onRemoveItem","objectID","InputWithLabel","id","value","onInputChange","isFocused","inputRef","useRef","useEffect","current","focus","htmlFor","ref","onChange","Button","button","disabled","SearchForm","searchForm","onSubmit","onSearchSubmit","searchText","onSearchInput","API_ENDPOINT","storiesReducer","state","action","isLoading","isError","data","payload","filter","story","Error","App","key","initialState","localStorage","getItem","setValue","setItem","useSemiPersistentState","setSearchText","setUrl","useReducer","stories","dispatchStories","handleFetchStories","useCallback","a","axios","get","result","hits","container","headlinePrimary","onSearch","event","target","e","preventDefault","console","log","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"static/js/main.4a282ecf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Item_item__1AMxd\",\"buttonSmall\":\"Item_buttonSmall__3w2KZ\",\"buttonLarge\":\"Item_buttonLarge__vjYQF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__2T_K-\",\"button\":\"SearchForm_button__uxO-k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__2MY4T\",\"headlinePrimary\":\"App_headlinePrimary__1-pTb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3MkaP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ListHeader_card__2AgKa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputWithLabel\":\"InputWithLabel_InputWithLabel__3D2Hz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2eLx-\"};","import React from 'react';\r\n\r\nimport classes from './Card.module.css';\r\n\r\nconst Card = (props) => {\r\n  return (\r\n    <div className={`${classes.card} ${props.className}`}>{props.children}</div>\r\n  );\r\n};\r\n\r\nexport default Card;","\r\n\r\nimport classes from './Item.module.css';\r\nimport Card from './UI/Card';\r\n\r\nconst Item = ({ item, onRemove }) => {\r\n\r\n    const handleOnRemove = () => {\r\n        onRemove(item);\r\n    };\r\n\r\n    return (\r\n\r\n        <Card className={classes.item}>\r\n            <span>\r\n                <a href={item.url}>{item.title}</a>\r\n            </span>\r\n            <span>{item.author}</span>\r\n            <span>{item.num_comments}</span>\r\n            <span>{item.points}</span>\r\n            <span>\r\n                <button\r\n                className={classes.buttonSmall}\r\n                    type=\"button\"\r\n                    onClick={handleOnRemove}>Remove</button>\r\n            </span>\r\n\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default Item;","\r\nimport React from \"react\";\r\n\r\nimport Card from \"./UI/Card\";\r\n\r\nimport classes from \"./ListHeader.module.css\";\r\n\r\nconst ListHeader = props => {\r\n\r\n    return (\r\n\r\n        <Card className={classes.card}>\r\n\r\n            <span>\r\n                <button type=\"button\" onClick={() => props.handleSort('TITLE')}>Title</button>\r\n            </span>\r\n            <span>\r\n                <button type=\"button\" onClick={() => props.handleSort('AUTHOR')}>Author</button>\r\n            </span>\r\n            <span>\r\n                <button type=\"button\" onClick={() => props.handleSort('COMMENT')}>Comments</button>\r\n            </span>\r\n            <span style={{ width: '20%' }}>\r\n                <button type=\"button\" onClick={() => props.handleSort('POINT')}>Points</button>\r\n            </span>\r\n            <span style={{ width: '10%' }}>Action </span>\r\n\r\n        </Card>\r\n    );\r\n\r\n\r\n};\r\n\r\nexport default ListHeader;","import { sortBy } from \"lodash\";\r\nimport React, { useState } from \"react\";\r\n\r\nimport Item from \"./Item\";\r\nimport ListHeader from \"./ListHeader\";\r\n\r\n\r\n\r\nconst SORTS = {\r\n    NONE: list => list,\r\n    TITLE: list => sortBy(list, 'title'),\r\n    AUTHOR: list => sortBy(list, 'author'),\r\n    COMMENT: list => sortBy(list, 'num_comments'),\r\n    POINT: list => sortBy(list, 'points'),\r\n};\r\n\r\nconst List = (props) => {\r\n\r\n    const [sort, setSort] = useState({ sortKey: 'NONE', isReverse: false });\r\n\r\n    const handleSort = sortKey => {\r\n        const isReverse = sort.sortKey === sortKey && !sort.isReverse;\r\n        setSort({ sortKey: sortKey, isReverse: isReverse });\r\n    };\r\n\r\n    const sortFunction = SORTS[sort.sortKey];\r\n    const sortedList = sort.isReverse ?\r\n        sortFunction(props.list).reverse() : sortFunction(props.list);\r\n\r\n    return (\r\n\r\n        <div>\r\n            <ListHeader list={props} handleSort={handleSort} />\r\n            {sortedList.map(item => <Item key={item.objectID} item={item} onRemove={props.onRemoveItem} />)}\r\n\r\n\r\n        </div>\r\n    );\r\n};\r\nexport default List;","import { useRef, useEffect } from \"react\";\r\n\r\nimport classes from './InputWithLabel.module.css'\r\n\r\nconst InputWithLabel = ({ id, value, type, onInputChange, isFocused, children }) => {\r\n    const inputRef = useRef();\r\n\r\n    useEffect(() => {\r\n        if (isFocused && inputRef.current) {\r\n            inputRef.current.focus();\r\n        }\r\n    }, [isFocused]);\r\n    return (\r\n        <div className={classes.InputWithLabel}>\r\n            <label htmlFor={id}>{children}</label>\r\n            &nbsp;\r\n            <input\r\n                id={id}\r\n                ref={inputRef}\r\n                type={type}\r\n                value={value}\r\n                onChange={onInputChange}\r\n                \r\n            />\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default InputWithLabel;","import React from 'react';\r\n\r\nimport classes from './Button.module.css';\r\n\r\nconst Button = (props) => {\r\n  return (\r\n    <button\r\n      type={props.type || 'button'}\r\n      className={`${classes.button} ${props.className}`}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","\r\n\r\nimport InputWithLabel from \"./InputWithLabel\";\r\nimport classes from './SearchForm.module.css';\r\nimport Button from \"./Button\";\r\nimport Card from './UI/Card';\r\n\r\nconst SearchForm = props => {\r\n\r\n\r\n\r\n    return <Card className={classes.searchForm}>\r\n        <form onSubmit={props.onSearchSubmit}>\r\n            <InputWithLabel\r\n                id=\"search\"\r\n                type=\"text\"\r\n                isFocused\r\n                value={props.searchText}\r\n                onInputChange={props.onSearchInput} >\r\n\r\n                <strong>Search </strong>\r\n\r\n            </InputWithLabel>\r\n            <div className={classes.button}>\r\n                <Button\r\n                    type=\"submit\"\r\n                    disabled={!props.searchText}\r\n                >\r\n                    Submit\r\n                </Button>\r\n            </div>\r\n        </form>\r\n    </Card>\r\n};\r\n\r\nexport default SearchForm;","\nimport React, { useState, useEffect, useReducer, useCallback } from \"react\";\nimport axios from \"axios\";\nimport List from \"./components/List\";\nimport SearchForm from \"./components/SearchForm\";\n\nimport classes from './App.module.css';\n\nconst API_ENDPOINT = 'https://hn.algolia.com/api/v1/search?query=';\n\n// const initialStories = [\n//   {\n//     title: 'React',\n//     url: 'www.react.org',\n//     author: 'Micheal Jordan',\n//     num_comment: 3,\n//     points: 4,\n//     objectID: 1,\n//   },\n//   {\n//     title: 'Vue',\n//     url: 'www.vue.org',\n//     author: 'Express Obat',\n//     num_comment: 5,\n//     points: 10,\n//     objectID: 2,\n//   }\n// // ];\n\n// const getAsyncStories = () =>\n//   new Promise(resolve =>\n//     setTimeout(() => resolve({ data: { stories: initialStories } }),\n//       1000\n//     ));\n\n// const getAsyncStories = () =>\n//   new Promise((resolve, reject) => setTimeout(reject, 1000));\n\n\nconst useSemiPersistentState = (key, initialState) => {\n\n  const [value, setValue] = useState(localStorage.getItem(key) || initialState);\n\n  useEffect(() => {\n    localStorage.setItem(key, value);\n  }, [value, key]);\n\n  return [value, setValue];\n};\n\n\nconst storiesReducer = (state, action) => {\n  switch (action.type) {\n    case 'STORIES_FETCH_INIT':\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n    case 'STORIES_FETCH_SUCCESS':\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload,\n      };\n    case 'STORIES_FETCH_FAILURE':\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n    case 'REMOVE_STORY':\n      return {\n        ...state,\n        data: state.data.filter(\n          story => action.payload.objectID !== story.objectID\n        ),\n      };\n    default:\n      throw new Error();\n  }\n};\n\n\n\n\nfunction App() {\n\n\n  const [searchText, setSearchText] = useSemiPersistentState('search');\n\n  // const [stories, setStories] = useState([]);\n\n  const [url, setUrl] = useState(`${API_ENDPOINT}${searchText}`);\n\n  const handleSearchInput = event => {\n    setSearchText(event.target.value);\n  };\n\n  const handleSearchSubmit = (e) => {\n    setUrl(`${API_ENDPOINT}${searchText}`);\n    e.preventDefault();\n    console.log('i am clicked');\n\n  };\n\n\n  const [stories, dispatchStories] = useReducer(\n    storiesReducer,\n    { data: [], isLoading: false, isError: false }\n  );\n\n  // const handleFetchStories = useCallback(() => {\n  //   dispatchStories({ type: 'STORIES_FETCH_INIT' });\n\n  //   axios\n  //     .get(url)\n  //     .then(result => {\n  //       dispatchStories({\n  //         type: 'STORIES_FETCH_SUCCESS',\n  //         payload: result.hits,\n  //       });\n\n  //     })\n  //     .catch(() => dispatchStories({ type: 'STORIES_FETCH_FAILURE' })\n  //     );\n  // }, [url]);\n\n  // useEffect(() => {\n  //   handleFetchStories();\n  // }, [handleFetchStories]);\n\n  const handleFetchStories = useCallback(async () => {\n    dispatchStories({ type: 'STORIES_FETCH_INIT' });\n\n    try {\n      const result = await axios.get(url);\n\n      dispatchStories({\n        type: 'STORIES_FETCH_SUCCESS',\n        payload: result.data.hits,\n      });\n    }\n    catch {\n      dispatchStories({ type: 'STORIES_FETCH_FAILURE' })\n    }\n  }, [url]);\n\n  useEffect(() => {\n    handleFetchStories();\n  }, [handleFetchStories]);\n\n  const handleRemoveStory = item => {\n    dispatchStories({\n      type: 'REMOVE_STORY',\n      payload: item,\n    });\n  };\n\n  const searchHandler = (event) => {\n    setSearchText(event.target.value);\n\n  };\n  // const searchStories = stories.data.filter(story =>\n  //   story.title.toLowerCase().includes(searchText.toLowerCase())\n  // );\n\n\n  return (\n    <div className={classes.container}>\n      <h1 className={classes.headlinePrimary}>My Hacker Stories</h1>\n      <SearchForm\n        onSearch={searchHandler}\n        searchText={searchText}\n        onSearchSubmit={handleSearchSubmit}\n        onSearchInput={handleSearchInput}\n      />\n\n      {stories.isError && <p>Something went wrong.....</p>}\n      {stories.isLoading ? (\n        <p>Loading...</p>\n      ) : (<List list={stories.data} onRemoveItem={handleRemoveStory} />)}\n\n\n    </div>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom/client';\n\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(<App />);\n"],"sourceRoot":""}